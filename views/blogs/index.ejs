<% layout('/layouts/boilerplate') %>
<style>
  body {
    background-color: #ecf2ff;
    background-image: url("https://res.cloudinary.com/dtwbilva0/image/upload/v1766131533/all_blogs_2_zhgywp.avif");
    background-size: cover;
    background-position: center;
  }

  .card {
    background-color: rgba(255, 255, 255, 0.75);
    backdrop-filter: blur(4px);
    border-radius: 12px;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
  }
  .card:hover {
    background-color: rgba(255, 255, 255, 0.85);
    transition: background-color 0.3s ease;
  }
</style>

<h1 class="text-center">All Blogs:</h1>
<ul>
  <% for(let blog of blogs){%>
  <div class="card mb-3 text-center">
    <div class="row g-0">
      <div class="col-md-4">
        <a href="/blogs/<%= blog._id%>">
          <% if (blog.logo && blog.logo.length > 0) { %>
          <img src="<%= blog.logo[0].url %>" class="img-fluid" alt="..." />
          <% } else { %>
          <img
            src="https://via.placeholder.com/400x250?text=No+Image"
            class="img-fluid"
            alt="No image"
          />
          <% } %>
        </a>
      </div>
      <div class="col-md-8">
        <div class="card-body">
          <h3 class="card-title"><%= blog.title %></h3>
          <h6 class="card-subtitle mb-2 text-body-secondary">
            <%= blog.shortdescription %>
          </h6>
          <h6>Published by: <b> <%= blog.author.username %> </b></h6>
          <% if(blog.likes.length) {%>
          <h6>Likes: <b> <%= blog.likes.length %> </b></h6>
          <% } %> <% if(blog.dislikes.length) {%>
          <h6>
            Dislikes:
            <b> <%= blog.dislikes.length %> </b>
          </h6>
          <% } %>
        </div>
      </div>
    </div>
  </div>
  <% } %>
</ul>
